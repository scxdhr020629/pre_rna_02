(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-678610d4"],{"3e8a":function(t,e,s){},"5e18":function(t,e,s){"use strict";s("3e8a")},"6f29":function(t,e,s){"use strict";s.r(e);s("498a");var a=function(){var t=this,e=t._self._c;return e("d2-container",[e("div",{staticClass:"chat-container"},[e("div",{staticClass:"page-header-container"},[e("div",{staticClass:"page-header"},[e("h1",{staticClass:"title"},[t._v("DeepSeek")]),e("p",{staticClass:"subtitle"},[t._v(" Into the unknown ")])])]),e("div",{ref:"chatWindow",staticClass:"chat-window"},[0===t.chatHistory.length?e("div",{staticClass:"welcome-message"},[e("div",{staticClass:"welcome-icon"},[e("i",{staticClass:"el-icon-chat-dot-square"})]),e("h2",[t._v("Welcome to the DeepSeek")]),e("p",[t._v("Ask me anything to get started!")])]):t._e(),e("transition-group",{staticClass:"messages-container",attrs:{name:"fade-message",tag:"div"}},t._l(t.chatHistory,(function(s,a){return e("div",{key:a,class:["message","user"===s.role?"user-message":"ai-message"]},[e("div",{staticClass:"message-avatar"},[e("i",{class:"user"===s.role?"el-icon-star-on":"el-icon-cpu"})]),e("div",{staticClass:"message-content"},[e("div",{staticClass:"message-header"},[e("span",{staticClass:"message-sender"},[t._v(t._s("user"===s.role?"You":"AI Assistant"))]),e("span",{staticClass:"message-time"},[t._v(t._s(t.formatTime(s.timestamp)))]),"assistant"===s.role&&s.reasoning?e("el-button",{staticClass:"reasoning-toggle",attrs:{type:"text",size:"mini"},on:{click:function(t){s.showReasoning=!s.showReasoning}}},[t._v(" "+t._s(s.showReasoning?"Hide Analysis":"Show Analysis")+" "),e("i",{class:s.showReasoning?"el-icon-arrow-up":"el-icon-arrow-down"})]):t._e()],1),e("div",{staticClass:"message-text",domProps:{innerHTML:t._s(t.formatMessage(s.content))}}),s.reasoning&&s.showReasoning?e("div",{staticClass:"reasoning-section"},[e("div",{staticClass:"reasoning-header"},[e("i",{staticClass:"el-icon-discover"}),t._v(" Reasoning Process ")]),e("div",{staticClass:"reasoning-content",domProps:{innerHTML:t._s(t.formatMessage(s.reasoning))}})]):t._e()])])})),0),t.isLoading?e("div",{staticClass:"thinking-dialog"},[e("div",{staticClass:"thinking-dialog-content"},[e("div",{staticClass:"thinking-avatar"},[e("i",{staticClass:"el-icon-cpu"})]),e("div",{staticClass:"thinking-text"},[e("div",{staticClass:"thinking-header"},[t._v("Deepseek is thinking")]),e("div",{staticClass:"thinking-animation"},[e("div",{staticClass:"thinking-dot"}),e("div",{staticClass:"thinking-dot"}),e("div",{staticClass:"thinking-dot"})])])])]):t._e()],1),e("div",{staticClass:"input-area"},[e("div",{staticClass:"input-container"},[e("el-input",{attrs:{type:"textarea",rows:2,autosize:{minRows:1,maxRows:5},placeholder:"Type your message here...",disabled:t.isLoading},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:(e.preventDefault(),t.sendMessage.apply(null,arguments))}},model:{value:t.userInput,callback:function(e){t.userInput=e},expression:"userInput"}}),e("el-tooltip",{attrs:{content:"Press Enter to send",placement:"top"}},[e("el-button",{staticClass:"send-button",attrs:{type:"primary",loading:t.isLoading,disabled:!t.userInput.trim()||t.isLoading},on:{click:t.sendMessage}},[t.isLoading?t._e():e("i",{staticClass:"el-icon-position"}),e("span",[t._v(t._s(t.isLoading?"Thinking...":"Send"))])])],1)],1),e("div",{staticClass:"input-actions"},[e("el-button",{staticClass:"clear-button",attrs:{type:"text"},on:{click:t.clearChat}},[e("i",{staticClass:"el-icon-delete"}),t._v(" Clear Chat ")])],1)]),e("div",{staticClass:"chat-footer"},[e("p",[e("i",{staticClass:"el-icon-info-circle"}),t._v(" The AI's responses are generated based on available information and might not always be accurate. "),e("el-switch",{staticStyle:{"margin-left":"15px"},attrs:{"active-text":"Auto-show reasoning","inactive-text":"Hide reasoning by default"},model:{value:t.showReasoningByDefault,callback:function(e){t.showReasoningByDefault=e},expression:"showReasoningByDefault"}})],1)])])])},n=[],i=s("c7eb"),o=s("1da1"),r=s("c98b"),c=s("1f47");function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["b"])({url:"email/test_openai/",method:"post",timeout:9e4,data:{message:t.message}}).then((function(t){return null!=t?c["c"]({data:t}):(console.log("hahaha"),c["b"]({},"Sending failed. Please try again."))})).catch((function(t){return console.error("An error has occurred with the request.",t),"ECONNABORTED"===t.code?c["b"]({},"Request timed out, please try again later"):c["b"]({},"Request failed. Please try again.")}))}var u=s("0e54"),d=s.n(u),h=s("c0c4"),g=s.n(h),p={name:"ChatWithAI",data:function(){return{userInput:"",chatHistory:[],isLoading:!1,showReasoningByDefault:!1}},methods:{sendMessage:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function e(){var s,a,n;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.userInput.trim(),s&&!t.isLoading){e.next=3;break}return e.abrupt("return");case 3:return t.chatHistory.push({role:"user",content:s,timestamp:new Date}),t.userInput="",t.isLoading=!0,t.$nextTick((function(){t.scrollToBottom()})),e.prev=7,e.next=10,l({message:s});case 10:a=e.sent,console.log(a),a&&0===a[1].code?(n=a[1].data.data,t.chatHistory.push({role:"assistant",content:n.content||"No content available",reasoning:n.reasoning_content||null,showReasoning:t.showReasoningByDefault,timestamp:new Date})):t.chatHistory.push({role:"assistant",content:"I'm sorry, I couldn't process your request. Please try again.",timestamp:new Date}),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](7),console.error("Error sending message to AI:",e.t0),t.chatHistory.push({role:"assistant",content:"An error occurred while processing your message. Please try again later.",timestamp:new Date});case 19:return e.prev=19,t.isLoading=!1,t.$nextTick((function(){t.scrollToBottom()})),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[7,15,19,23]])})))()},formatTime:function(t){var e=new Date(t);return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},formatMessage:function(t){return t?g.a.sanitize(d()(t)):""},scrollToBottom:function(){this.$refs.chatWindow&&(this.$refs.chatWindow.scrollTop=this.$refs.chatWindow.scrollHeight)},clearChat:function(){var t=this;this.$confirm("Are you sure you want to clear the entire chat history?","Clear Chat",{confirmButtonText:"Yes",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.chatHistory=[],t.$message({type:"success",message:"Chat history cleared"})})).catch((function(){}))}},mounted:function(){this.scrollToBottom()},updated:function(){this.scrollToBottom()}},m=p,v=(s("5e18"),s("2877")),f=Object(v["a"])(m,a,n,!1,null,null,null);e["default"]=f.exports}}]);