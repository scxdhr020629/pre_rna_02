(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9699df4"],{3:function(e,t){},4:function(e,t){},"498a":function(e,t,a){"use strict";var s=a("23e7"),n=a("58a8").trim,r=a("c8d2");s({target:"String",proto:!0,forced:r("trim")},{trim:function(){return n(this)}})},5:function(e,t){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var s=a("e330"),n=a("1d80"),r=a("577e"),l=a("5899"),o=s("".replace),i="["+l+"]",c=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),d=function(e){return function(t){var a=r(n(t));return 1&e&&(a=o(a,c,"")),2&e&&(a=o(a,u,"")),a}};e.exports={start:d(1),end:d(2),trim:d(3)}},a471:function(e,t,a){},c8d2:function(e,t,a){var s=a("5e77").PROPER,n=a("d039"),r=a("5899"),l="​᠎";e.exports=function(e){return n((function(){return!!r[e]()||l[e]()!==l||s&&r[e].name!==e}))}},d934:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("d2-container",[t("div",{staticClass:"about-content"},[t("div",{staticClass:"page-header-container"},[t("div",{staticClass:"page-header"},[t("h1",{staticClass:"title"},[e._v("Drug-MiRNA Association Query")]),t("p",{staticClass:"subtitle"},[e._v(" Explore drug and miRNA relationships through our advanced query system ")])])]),t("div",{staticClass:"content"},[t("div",{staticClass:"left-section"},[t("div",{staticClass:"section-header"},[t("i",{staticClass:"el-icon-search"}),t("span",[e._v("Single Query Mode")])]),t("div",{staticClass:"query-type-selector"},[t("el-radio-group",{attrs:{size:"medium"},on:{change:e.onQueryTypeChange},model:{value:e.queryType,callback:function(t){e.queryType=t},expression:"queryType"}},[t("el-radio-button",{attrs:{label:"drug"}},[e._v("Search by Drug")]),t("el-radio-button",{attrs:{label:"rna"}},[e._v("Search by RNA")])],1)],1),t("div",{staticClass:"input-section"},[t("el-input",{staticClass:"input-field",attrs:{placeholder:e.getPlaceholder(),clearable:""},model:{value:e.sequenceInput,callback:function(t){e.sequenceInput=t},expression:"sequenceInput"}}),t("el-button",{staticClass:"query-button",attrs:{type:"primary",loading:e.loading},on:{click:e.fetchResults}},[e.loading?e._e():t("i",{staticClass:"el-icon-search"}),e._v(" Search ")])],1),t("div",{staticClass:"results-wrapper"},[t("transition",{attrs:{name:"fade"}},[e.resultsList.length>0&&"drug"===e.queryType?t("el-table",{staticClass:"result-table",attrs:{data:e.paginatedResults,stripe:!0,border:!0,height:"calc(100vh - 400px)"}},[t("el-table-column",{attrs:{prop:"RNA_ID",label:"RNA_ID","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"rna-id"},[t("i",{staticClass:"el-icon-view"}),t("span",[e._v(e._s(a.row.RNA_ID))])])]}}],null,!1,2714043375)}),t("el-table-column",{attrs:{prop:"Sequence",label:"Sequence","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{attrs:{content:a.row.Sequence,placement:"top"}},[t("div",{staticClass:"sequence-cell"},[e._v(e._s(a.row.Sequence))])])]}}],null,!1,1026404564)}),t("el-table-column",{attrs:{prop:"Probability",label:"Probability","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"probability-wrapper"},[t("el-progress",{attrs:{percentage:100*a.row.Probability,format:e.percentageFormat,color:e.customColorMethod(100*a.row.Probability),"stroke-width":16}})],1)]}}],null,!1,2836496535)})],1):e.resultsList.length>0&&"rna"===e.queryType?t("el-table",{staticClass:"result-table",attrs:{data:e.paginatedResults,stripe:!0,border:!0,height:"calc(100vh - 400px)"}},[t("el-table-column",{attrs:{prop:"DrugBank_ID",label:"DrugBank ID","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"drug-id"},[t("i",{staticClass:"el-icon-medicine-box"}),t("span",[e._v(e._s(a.row.DrugBank_ID))])])]}}])}),t("el-table-column",{attrs:{prop:"smiles",label:"SMILES","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{attrs:{content:a.row.smiles,placement:"top"}},[t("div",{staticClass:"sequence-cell"},[e._v(e._s(a.row.smiles))])])]}}])}),t("el-table-column",{attrs:{prop:"Probability",label:"Probability","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"probability-wrapper"},[t("el-progress",{attrs:{percentage:100*parseFloat(a.row.Probability),format:e.percentageFormat,color:e.customColorMethod(100*parseFloat(a.row.Probability)),"stroke-width":16}})],1)]}}])})],1):t("div",{staticClass:"no-result"},[t("i",{staticClass:"el-icon-search empty-icon"}),t("p",[t("i",{staticClass:"el-icon-info-circle"}),e._v(" Please enter a "+e._s("drug"===e.queryType?"drug":"RNA")+" sequence to start your query ")]),t("el-button",{attrs:{type:"text"},on:{click:e.showHelp}},[e._v("Need help?")])],1)],1),e.resultsList.length>0?t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.resultsList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)]),t("div",{staticClass:"right-section"},[t("div",{staticClass:"section-header"},[t("i",{staticClass:"el-icon-upload"}),t("span",[e._v("Batch Upload Mode")])]),t("div",{staticClass:"query-type-selector batch-selector"},[t("el-radio-group",{attrs:{size:"medium"},on:{change:e.onBatchQueryTypeChange},model:{value:e.batchQueryType,callback:function(t){e.batchQueryType=t},expression:"batchQueryType"}},[t("el-radio-button",{attrs:{label:"drug"}},[e._v("Search by Drug")]),t("el-radio-button",{attrs:{label:"rna"}},[e._v("Search by RNA")])],1)],1),t("div",{staticClass:"batch-instruction"},[t("i",{staticClass:"el-icon-info-circle"}),t("span",[e._v("Upload a file containing "+e._s(e.getBatchInstructionText()))])]),t("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"before-upload":e.beforeUpload,"on-change":e.handleChange,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,"file-list":e.fileList,"http-request":e.handleUpload,accept:".xlsx, .xls, .csv",drag:""}},[t("div",{staticClass:"upload-content"},[t("div",{staticClass:"upload-icon"},[t("i",{staticClass:"el-icon-upload"})]),t("div",{staticClass:"upload-text"},[t("p",{staticClass:"main-text"},[e._v(" Drop your file here or "),t("em",[e._v("click to upload")])]),t("p",{staticClass:"upload-hint"},[e._v("Support for .xlsx, .xls and .csv files")])])])]),t("transition",{attrs:{name:"fade"}},[e.table.data.length>0?t("div",{staticClass:"table-wrapper"},[t("div",{staticClass:"table-header"},[t("h3",[e._v("Uploaded Data Preview")]),t("el-button",{attrs:{type:"text",icon:"el-icon-download"},on:{click:e.exportData}},[e._v(" Export Data ")])],1),t("el-table",{staticClass:"upload-table",attrs:{data:e.table.data,stripe:!0,border:!0,height:"calc(100vh - 500px)"}},e._l(e.table.columns,(function(e,a){return t("el-table-column",{key:a,attrs:{prop:e.prop,label:e.label,"min-width":"120"}})})),1)],1):e._e()])],1)]),t("el-dialog",{attrs:{title:"Query Help",visible:e.helpDialogVisible,width:"50%","custom-class":"help-dialog"},on:{"update:visible":function(t){e.helpDialogVisible=t}}},[t("div",{staticClass:"help-content"},[t("h3",[e._v("How to use the Drug-MiRNA Query Tool")]),t("div",{staticClass:"help-tabs"},[t("el-tabs",{model:{value:e.helpActiveTab,callback:function(t){e.helpActiveTab=t},expression:"helpActiveTab"}},[t("el-tab-pane",{attrs:{label:"Search by Drug",name:"drug"}},[t("ol",[t("li",[e._v('Select "Search by Drug" option')]),t("li",[e._v("Enter a valid drug sequence in the input field")]),t("li",[e._v("Click the search button to find associated miRNAs")]),t("li",[e._v("Review the results in the table below")])]),t("h4",[e._v("Batch Upload")]),t("ol",[t("li",[e._v('Select "Search by Drug" in the Batch Upload section')]),t("li",[e._v("Upload a CSV or Excel file containing drug sequences")]),t("li",[e._v("Each row should contain one drug sequence")]),t("li",[e._v("The system will process and return associated miRNAs")])])]),t("el-tab-pane",{attrs:{label:"Search by RNA",name:"rna"}},[t("ol",[t("li",[e._v('Select "Search by RNA" option')]),t("li",[e._v("Enter a valid RNA sequence in the input field")]),t("li",[e._v("Click the search button to find associated drugs")]),t("li",[e._v("Review the results in the table below")])]),t("h4",[e._v("Batch Upload")]),t("ol",[t("li",[e._v('Select "Search by RNA" in the Batch Upload section')]),t("li",[e._v("Upload a CSV or Excel file containing RNA sequences")]),t("li",[e._v("Each row should contain one RNA sequence")]),t("li",[e._v("The system will process and return associated drugs")])])])],1)],1),t("div",{staticClass:"help-note"},[t("i",{staticClass:"el-icon-info"}),t("p",[e._v(" The probability score indicates the strength of the drug-miRNA association ")])])])])],1)])},n=[],r=a("c7eb"),l=a("1da1"),o=(a("fb6a"),a("d81d"),a("d3b7"),a("159b"),a("4de4"),a("ac1f"),a("1276"),a("498a"),a("b680"),a("1146")),i=a("c98b"),c=a("1f47");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["b"])({url:"get_rnas/",method:"post",timeout:15e3,data:{drug_sequence:e.drug_sequence}}).then((function(e){return console.log("hello scx"),console.log(e),null!=e?c["c"]({data:e}):(console.log("hahaha"),c["b"]({},"查询失败，请重试"))})).catch((function(e){return console.error("请求发生错误:",e),"ECONNABORTED"===e.code?c["b"]({},"请求超时，请稍后再试"):c["b"]({},"请求失败，请重试")}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["b"])({url:"get_all_rnas/",method:"post",timeout:2e4,data:{data:e.data}}).then((function(e){return console.log("hello scx"),console.log(e),null!=e?c["c"]({data:e}):(console.log("hahaha"),c["b"]({},"Sending failed. Please try again."))})).catch((function(e){return console.error("An error has occurred with the request.",e),"ECONNABORTED"===e.code?c["b"]({},"Request timed out, please try again later"):c["b"]({},"Request failed. Please try again.")}))}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["b"])({url:"get_drugs/",method:"post",timeout:15e3,data:{rna_sequence:e.rna_sequence}}).then((function(e){return console.log("hello scx"),console.log(e),null!=e?c["c"]({data:e}):(console.log("hahaha"),c["b"]({},"查询失败，请重试"))})).catch((function(e){return console.error("请求发生错误:",e),"ECONNABORTED"===e.code?c["b"]({},"请求超时，请稍后再试"):c["b"]({},"请求失败，请重试")}))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["b"])({url:"get_all_drugs/",method:"post",timeout:2e4,data:{data:e.data}}).then((function(e){return null!=e?c["c"]({data:e}):(console.log("hahaha"),c["b"]({},"Sending failed. Please try again."))})).catch((function(e){return console.error("An error has occurred with the request.",e),"ECONNABORTED"===e.code?c["b"]({},"Request timed out, please try again later"):c["b"]({},"Request failed. Please try again.")}))}var g={name:"DrugMiRNAQuery",data:function(){return{sequenceInput:"",queryType:"drug",batchQueryType:"drug",resultsList:[],loading:!1,fileList:[],table:{columns:[],data:[]},helpDialogVisible:!1,helpActiveTab:"drug",customColors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#67c23a",percentage:60},{color:"#409eff",percentage:80},{color:"#6f7ad3",percentage:100}],currentPage:1,pageSize:10}},computed:{paginatedResults:function(){var e=(this.currentPage-1)*this.pageSize,t=e+this.pageSize;return this.resultsList.slice(e,t)}},methods:{getPlaceholder:function(){return"drug"===this.queryType?"Please enter drug sequence":"Please enter RNA sequence"},getBatchInstructionText:function(){return"drug"===this.batchQueryType?"drug sequences to find related RNAs":"RNA sequences to find related drugs"},onQueryTypeChange:function(){this.resultsList=[],this.sequenceInput="",this.currentPage=1,this.pageSize=10},onBatchQueryTypeChange:function(){this.fileList=[],this.table.columns=[],this.table.data=[]},fetchResults:function(){var e=this;return Object(l["a"])(Object(r["a"])().mark((function t(){var a;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sequenceInput){t.next=3;break}return e.$message.warning("Please enter the ".concat(e.queryType," sequence")),t.abrupt("return");case 3:if(e.loading=!0,e.currentPage=1,e.pageSize=10,t.prev=6,"drug"!==e.queryType){t.next=15;break}return console.log("drug_sequence:",e.sequenceInput),t.next=11,u({drug_sequence:e.sequenceInput});case 11:a=t.sent,e.resultsList=a[1].data.data,t.next=20;break;case 15:return console.log("rna_sequence:",e.sequenceInput),t.next=18,p({rna_sequence:e.sequenceInput});case 18:a=t.sent,e.resultsList=a[1].data.data;case 20:console.log("Response:",a),t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](6),console.error("Request failed",t.t0),e.$message.error("Request failed. Please try again later.");case 27:return t.prev=27,e.loading=!1,t.finish(27);case 30:case"end":return t.stop()}}),t,null,[[6,23,27,30]])})))()},beforeUpload:function(e){var t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type||"text/csv"===e.type;return t||this.$message.error("Only .xlsx, .xls and .csv files are accepted"),t},handleChange:function(e,t){this.fileList=t.slice(-1)},handleUploadSuccess:function(e,t,a){this.fileList=a,this.$message.success("Upload successful")},handleUploadError:function(e,t,a){this.$message.error("Upload failed")},handleUpload:function(e){var t=this;return Object(l["a"])(Object(r["a"])().mark((function a(){var s,n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:s=e.file,console.log("Uploading file:",s),t.loading=!0,n=new FileReader,n.onload=function(){var e=Object(l["a"])(Object(r["a"])().mark((function e(a){var s,n,l,i,c,u,p,g,b,f;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=a.target.result,n=o["read"](s,{type:"binary"}),l=n.SheetNames[0],i=n.Sheets[l],c=o["utils"].sheet_to_json(i,{header:1}),!(c.length>1)){e.next=13;break}u=c[0],p=c.slice(1),t.table.columns=u.map((function(e){return{label:e,prop:e}})),t.table.data=p.map((function(e){var t={};return u.forEach((function(a,s){t[a]=e[s]})),t})),console.log("Parsed table data:",t.table),e.next=16;break;case 13:return t.$message.error("The file is empty or does not contain any sequences"),t.loading=!1,e.abrupt("return");case 16:if(g=s.split("\n").map((function(e){return e.trim()})).filter((function(e){return e})),!(g.length>1)){e.next=45;break}if(b=g.slice(1).map((function(e){return{sequence:e}})),console.log(b),e.prev=20,"drug"!==t.batchQueryType){e.next=28;break}return console.log("Batch processing drug sequences"),e.next=25,d({data:b});case 25:f=e.sent,e.next=32;break;case 28:return console.log("Batch processing RNA sequences"),e.next=31,h({data:b});case 31:f=e.sent;case 32:console.log("Upload response:",f),0===f[1].code?(t.$message.success("File processed successfully. Finding ".concat("drug"===t.batchQueryType?"RNAs":"drugs"," for your sequences.")),f[1].data.data&&(window.location.href=f[1].data.data)):t.$message.error("Failed to process the file"),e.next=40;break;case 36:e.prev=36,e.t0=e["catch"](20),console.error("Error uploading file:",e.t0),t.$message.error("Failed to upload file");case 40:return e.prev=40,t.loading=!1,e.finish(40);case 43:e.next=47;break;case 45:t.$message.error("The file is empty or does not contain any sequences"),t.loading=!1;case 47:case"end":return e.stop()}}),e,null,[[20,36,40,43]])})));return function(t){return e.apply(this,arguments)}}(),n.onerror=function(e){console.error("Error reading file:",e),t.$message.error("Failed to read the file"),t.loading=!1},n.readAsBinaryString(s);case 7:case"end":return a.stop()}}),a)})))()},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1},handleCurrentChange:function(e){this.currentPage=e},percentageFormat:function(e){return e.toFixed(2)+"%"},customColorMethod:function(e){return e<30?"#f56c6c":e<50?"#e6a23c":e<70?"#67c23a":e<90?"#409eff":"#6f7ad3"},showHelp:function(){this.helpActiveTab=this.queryType,this.helpDialogVisible=!0},exportData:function(){var e=o["utils"].book_new(),t=o["utils"].json_to_sheet(this.table.data);o["utils"].book_append_sheet(e,t,"Results"),o["writeFile"](e,"drug_mirna_results.xlsx")}}},b=g,f=(a("fb72"),a("2877")),v=Object(f["a"])(b,s,n,!1,null,"04c7c854",null);t["default"]=v.exports},fb72:function(e,t,a){"use strict";a("a471")}}]);